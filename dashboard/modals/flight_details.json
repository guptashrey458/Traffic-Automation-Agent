{
  "component_type": "modal",
  "name": "flight_details_modal",
  "title": "Flight Details",
  "size": "medium",
  "config": {
    "width": 600,
    "height": 500,
    "resizable": false
  },
  "content": {
    "sections": [
      {
        "type": "header_section",
        "content": {
          "title": "{{modal_data.flight_no}}",
          "subtitle": "{{modal_data.aircraft_type}} • {{modal_data.origin}} → {{modal_data.destination}}",
          "status_badge": {
            "text": "{{modal_data.departure_risk.risk_level | titlecase}}",
            "color": "{{modal_data.departure_risk.risk_level === 'low' ? '#4caf50' : (modal_data.departure_risk.risk_level === 'medium' ? '#ff9800' : '#f44336')}}"
          }
        }
      },
      {
        "type": "info_grid",
        "columns": 2,
        "items": [
          {
            "label": "Flight ID",
            "value": "{{modal_data.flight_id}}",
            "icon": "flight"
          },
          {
            "label": "Aircraft Type",
            "value": "{{modal_data.aircraft_type}}",
            "icon": "airplanemode_active"
          },
          {
            "label": "Route",
            "value": "{{modal_data.origin}} → {{modal_data.destination}}",
            "icon": "route"
          },
          {
            "label": "Runway",
            "value": "{{modal_data.runway || 'TBD'}}",
            "icon": "flight_takeoff"
          },
          {
            "label": "Scheduled Departure",
            "value": "{{moment(modal_data.std_utc).format('HH:mm UTC')}}",
            "icon": "schedule"
          },
          {
            "label": "Scheduled Arrival", 
            "value": "{{moment(modal_data.sta_utc).format('HH:mm UTC')}}",
            "icon": "schedule"
          }
        ]
      },
      {
        "type": "risk_analysis_section",
        "title": "Delay Risk Analysis",
        "content": {
          "departure_risk": {
            "probability": "{{modal_data.departure_risk.probability}}",
            "expected_delay": "{{modal_data.departure_risk.expected_delay_minutes}}",
            "confidence": "{{modal_data.departure_risk.confidence}}"
          },
          "arrival_risk": {
            "probability": "{{modal_data.arrival_risk.probability}}",
            "expected_delay": "{{modal_data.arrival_risk.expected_delay_minutes}}",
            "confidence": "{{modal_data.arrival_risk.confidence}}"
          },
          "risk_factors": "{{modal_data.risk_factors}}",
          "recommendations": "{{modal_data.recommendations}}"
        }
      },
      {
        "type": "chart_section",
        "title": "Historical Performance",
        "chart": {
          "type": "line",
          "data_source": {
            "type": "api",
            "endpoint": "/flights/{{modal_data.flight_id}}/history",
            "params": {
              "days": 30
            }
          },
          "config": {
            "x_axis": "date",
            "y_axis": "delay_minutes",
            "height": 200,
            "color": "#1976d2"
          }
        }
      }
    ]
  },
  "footer": {
    "actions": [
      {
        "type": "button",
        "label": "What-If Analysis",
        "style": "primary",
        "action": "open_modal",
        "modal": "whatif_modal",
        "data": "{{modal_data}}"
      },
      {
        "type": "button",
        "label": "View on Gantt",
        "style": "secondary",
        "action": "highlight_flight_on_gantt"
      },
      {
        "type": "button",
        "label": "Close",
        "style": "text",
        "action": "close_modal"
      }
    ]
  }
}