{
  "component_type": "control_panel",
  "name": "dashboard_controls",
  "title": "Dashboard Controls",
  "position": {
    "x": 6,
    "y": 16,
    "width": 6,
    "height": 4
  },
  "layout": {
    "type": "grid",
    "columns": 2,
    "gap": 16
  },
  "controls": [
    {
      "name": "airport_selector",
      "type": "select",
      "label": "Airport",
      "icon": "flight_takeoff",
      "data_source": {
        "type": "api",
        "endpoint": "/airports",
        "transform": "data.airports.map(a => ({value: a.code, label: a.code + ' - ' + a.name}))"
      },
      "default_value": "BOM",
      "required": true,
      "tooltip": "Select airport for analysis"
    },
    {
      "name": "date_picker",
      "type": "date",
      "label": "Analysis Date",
      "icon": "calendar_today",
      "default_value": "{{ moment().format('YYYY-MM-DD') }}",
      "min_date": "{{ moment().subtract(30, 'days').format('YYYY-MM-DD') }}",
      "max_date": "{{ moment().add(7, 'days').format('YYYY-MM-DD') }}",
      "tooltip": "Date for flight schedule analysis"
    },
    {
      "name": "bucket_selector",
      "type": "select",
      "label": "Time Bucket",
      "icon": "access_time",
      "options": [
        {"value": 5, "label": "5 minutes"},
        {"value": 10, "label": "10 minutes"},
        {"value": 15, "label": "15 minutes"},
        {"value": 30, "label": "30 minutes"}
      ],
      "default_value": 10,
      "tooltip": "Time interval for demand analysis"
    },
    {
      "name": "weather_selector",
      "type": "select",
      "label": "Weather Regime",
      "icon": "wb_sunny",
      "options": [
        {"value": "calm", "label": "Calm", "icon": "wb_sunny"},
        {"value": "medium", "label": "Medium Wind", "icon": "air"},
        {"value": "strong", "label": "Strong Wind", "icon": "storm"},
        {"value": "severe", "label": "Severe Weather", "icon": "thunderstorm"}
      ],
      "default_value": "calm",
      "tooltip": "Weather conditions affecting runway capacity"
    }
  ],
  "advanced_controls": {
    "collapsible": true,
    "title": "Optimization Parameters",
    "controls": [
      {
        "name": "delay_weight_slider",
        "type": "slider",
        "label": "Delay Weight",
        "min": 0.1,
        "max": 2.0,
        "step": 0.1,
        "default_value": 1.0,
        "tooltip": "Importance of minimizing delays in optimization"
      },
      {
        "name": "taxi_weight_slider", 
        "type": "slider",
        "label": "Taxi Time Weight",
        "min": 0.0,
        "max": 1.0,
        "step": 0.1,
        "default_value": 0.3,
        "tooltip": "Importance of minimizing taxi times"
      },
      {
        "name": "runway_change_weight_slider",
        "type": "slider",
        "label": "Runway Change Weight",
        "min": 0.0,
        "max": 1.0,
        "step": 0.1,
        "default_value": 0.2,
        "tooltip": "Penalty for changing assigned runways"
      },
      {
        "name": "max_delay_constraint",
        "type": "number",
        "label": "Max Delay (minutes)",
        "min": 15,
        "max": 180,
        "default_value": 60,
        "tooltip": "Maximum acceptable delay for any flight"
      },
      {
        "name": "min_turnaround_constraint",
        "type": "number",
        "label": "Min Turnaround (minutes)",
        "min": 30,
        "max": 120,
        "default_value": 45,
        "tooltip": "Minimum turnaround time for same aircraft"
      },
      {
        "name": "curfew_checkbox",
        "type": "checkbox",
        "label": "Respect Curfew Hours",
        "default_value": true,
        "tooltip": "Enforce airport curfew restrictions"
      }
    ]
  },
  "actions": [
    {
      "name": "refresh_data",
      "type": "button",
      "label": "Refresh Data",
      "icon": "refresh",
      "style": "secondary",
      "action": "refresh_all_components"
    },
    {
      "name": "export_data",
      "type": "button", 
      "label": "Export",
      "icon": "download",
      "style": "secondary",
      "action": "export_dashboard_data"
    },
    {
      "name": "reset_filters",
      "type": "button",
      "label": "Reset",
      "icon": "restore",
      "style": "text",
      "action": "reset_all_filters"
    }
  ]
}